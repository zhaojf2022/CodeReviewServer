{"version":3,"file":"index-973bc8e4.js","sources":["../../src/layouts/components/Tools/index.vue"],"sourcesContent":["<script lang=\"ts\">\nimport { defineComponent } from 'vue'\nexport default defineComponent({\n  name: 'Tools',\n})\n</script>\n<script lang=\"ts\" setup name=\"Tools\">\r\nimport { useFullscreen } from '@vueuse/core'\r\nimport eventBus from '@/utils/eventBus'\r\nimport useSettingsStore from '@/store/modules/settings'\r\nimport useUserStore from '@/store/modules/user'\r\n\r\nconst router = useRouter()\r\n\r\nconst settingsStore = useSettingsStore()\r\nconst userStore = useUserStore()\r\n\r\nconst mainPage = useMainPage()\r\nconst { isFullscreen, toggle } = useFullscreen()\r\n\r\nfunction userCommand(command: 'home' | 'setting' | 'hotkeys' | 'logout') {\r\n  switch (command) {\r\n    case 'home':\r\n      router.push({\r\n        name: 'home',\r\n      })\r\n      break\r\n    case 'setting':\r\n      router.push({\r\n        name: 'personalSetting',\r\n      })\r\n      break\r\n    case 'hotkeys':\r\n      eventBus.emit('global-hotkeys-intro-toggle')\r\n      break\r\n    case 'logout':\r\n      userStore.logout().then(() => {\r\n        router.push({\r\n          name: 'login',\r\n        })\r\n      })\r\n      break\r\n  }\r\n}\r\n</script>\r\n\r\n<template>\r\n  <div class=\"tools\">\r\n    <div class=\"buttons\">\r\n      <span class=\"user-container\" @click=\"eventBus.emit('global-version-help')\">\r\n        <div class=\"user-wrapper\">\r\n          <el-tag type=\"danger\">版本&帮助</el-tag>\r\n        </div>\r\n      </span>\r\n    </div>\r\n    <el-dropdown class=\"user-container\" size=\"default\" @command=\"userCommand\">\r\n      <div class=\"user-wrapper\">\r\n        <el-avatar size=\"small\">\r\n          <el-icon>\r\n            <svg-icon name=\"ep:user-filled\" />\r\n          </el-icon>\r\n        </el-avatar>\r\n        {{ userStore.name }}\r\n        <el-icon>\r\n          <svg-icon name=\"ep:caret-bottom\" />\r\n        </el-icon>\r\n      </div>\r\n      <template #dropdown>\r\n        <el-dropdown-menu class=\"user-dropdown\">\r\n          <el-dropdown-item v-if=\"settingsStore.settings.home.enable\" command=\"home\">\r\n            {{ settingsStore.settings.home.title }}\r\n          </el-dropdown-item>\r\n          <el-dropdown-item command=\"setting\">\r\n            个人设置\r\n          </el-dropdown-item>\r\n          <el-dropdown-item divided command=\"logout\">\r\n            退出登录\r\n          </el-dropdown-item>\r\n        </el-dropdown-menu>\r\n      </template>\r\n    </el-dropdown>\r\n  </div>\r\n</template>\r\n\r\n<style lang=\"scss\" scoped>\r\n.tools {\r\n  display: flex;\r\n  align-items: center;\r\n  padding: 0 20px;\r\n  white-space: nowrap;\r\n\r\n  .buttons {\r\n    margin-right: 20px;\r\n\r\n    .item {\r\n      display: inline-flex;\r\n      align-items: center;\r\n      justify-content: center;\r\n      height: 24px;\r\n      width: 34px;\r\n      cursor: pointer;\r\n      vertical-align: middle;\r\n\r\n      .el-icon {\r\n        color: var(--el-text-color-primary);\r\n        transition: var(--el-transition-color);\r\n      }\r\n    }\r\n  }\r\n}\r\n\r\n:deep(.user-container) {\r\n  display: inline-block;\r\n  height: 24px;\r\n  line-height: 24px;\r\n  cursor: pointer;\r\n\r\n  .user-wrapper {\r\n    .el-avatar {\r\n      vertical-align: middle;\r\n      margin-top: -2px;\r\n      margin-right: 4px;\r\n    }\r\n  }\r\n}\r\n</style>\r\n"],"names":["__default__","defineComponent","router","useRouter","settingsStore","useSettingsStore","userStore","useUserStore","useFullscreen","userCommand","command","eventBus"],"mappings":"qQAEAA,EAAAC,EAAA,CAA+B,KAAA,OAE/B,CAAA,qBAQA,MAAAC,EAAAC,IAEAC,EAAAC,IACAC,EAAAC,IAGAC,EAAA,EAEA,SAAAC,EAAAC,EAAA,CACE,OAAAA,EAAA,CAAiB,IAAA,OAEbR,EAAA,KAAA,CAAY,KAAA,MACJ,CAAA,EAER,MAAA,IAAA,UAEAA,EAAA,KAAA,CAAY,KAAA,iBACJ,CAAA,EAER,MAAA,IAAA,UAEAS,EAAA,KAAA,6BAAA,EACA,MAAA,IAAA,SAEAL,EAAA,SAAA,KAAA,IAAA,CACEJ,EAAA,KAAA,CAAY,KAAA,OACJ,CAAA,CACP,CAAA,EAEH,KAAA,CACJ"}