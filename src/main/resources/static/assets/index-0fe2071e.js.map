{"version":3,"file":"index-0fe2071e.js","sources":["../../src/layouts/components/Header/index.vue"],"sourcesContent":["<script lang=\"ts\">\nimport { defineComponent } from 'vue'\nexport default defineComponent({\n  name: 'Header',\n})\n</script>\n<script lang=\"ts\" setup name=\"Header\">\r\nimport Logo from '../Logo/index.vue'\r\nimport Tools from '../Tools/index.vue'\r\nimport useSettingsStore from '@/store/modules/settings'\r\nimport useMenuStore from '@/store/modules/menu'\r\n\r\nconst settingsStore = useSettingsStore()\r\nconst menuStore = useMenuStore()\r\n\r\nconst { switchTo } = useMenu()\r\n\r\nconst navRef = ref()\r\n\r\n// 顶部模式鼠标滚动\r\nfunction handlerMouserScroll(event: WheelEvent) {\r\n  navRef.value.scrollBy({\r\n    left: (event.deltaY || event.detail) > 0 ? 50 : -50,\r\n  })\r\n}\r\n</script>\r\n\r\n<template>\r\n  <transition name=\"header\">\r\n    <header v-if=\"settingsStore.mode === 'pc' && settingsStore.settings.menu.menuMode === 'head'\">\r\n      <div class=\"header-container\">\r\n        <div class=\"main\">\r\n          <Logo />\r\n          <!-- 顶部模式 -->\r\n          <div ref=\"navRef\" class=\"nav\" @wheel.prevent=\"handlerMouserScroll\">\r\n            <template v-for=\"(item, index) in menuStore.allMenus\" :key=\"index\">\r\n              <div v-if=\"item.children && item.children.length !== 0\" class=\"item-container\" :class=\"{ active: index === menuStore.actived }\">\r\n                <div class=\"item\" @click=\"switchTo(index)\">\r\n                  <el-icon v-if=\"item.meta?.icon\">\r\n                    <svg-icon :name=\"item.meta.icon\" />\r\n                  </el-icon>\r\n                  <span v-if=\"item.meta?.title\">{{ item.meta.title }}</span>\r\n                </div>\r\n              </div>\r\n            </template>\r\n          </div>\r\n        </div>\r\n        <Tools />\r\n      </div>\r\n    </header>\r\n  </transition>\r\n</template>\r\n\r\n<style lang=\"scss\" scoped>\r\nheader {\r\n  position: fixed;\r\n  z-index: 1000;\r\n  top: 0;\r\n  left: 0;\r\n  right: 0;\r\n  display: flex;\r\n  align-items: center;\r\n  padding: 0 20px;\r\n  height: var(--g-header-height);\r\n  color: var(--g-header-color);\r\n  background-color: var(--g-header-bg);\r\n  transition: background-color 0.3s, var(--el-transition-color);\r\n\r\n  .header-container {\r\n    width: var(--g-header-width);\r\n    height: 100%;\r\n    margin: 0 auto;\r\n    display: flex;\r\n    align-items: center;\r\n    justify-content: space-between;\r\n\r\n    .main {\r\n      flex: 1;\r\n      display: flex;\r\n      flex-wrap: wrap;\r\n      align-items: center;\r\n      height: 100%;\r\n    }\r\n  }\r\n\r\n  @media screen and (max-width: var(--g-header-width)) {\r\n    .header-container {\r\n      width: 100%;\r\n    }\r\n  }\r\n\r\n  :deep(.title) {\r\n    position: relative;\r\n    width: inherit;\r\n    height: inherit;\r\n    padding: inherit;\r\n    background-color: inherit;\r\n\r\n    .logo {\r\n      width: 50px;\r\n      height: 50px;\r\n    }\r\n\r\n    span {\r\n      font-size: 24px;\r\n      letter-spacing: 1px;\r\n      color: var(--g-header-color);\r\n    }\r\n  }\r\n\r\n  .nav {\r\n    flex: 1;\r\n    display: flex;\r\n    width: 0;\r\n    height: 100%;\r\n    margin: 0 30px;\r\n    padding: 0 20px;\r\n    overflow-x: auto;\r\n    mask-image: linear-gradient(to right, transparent, #000 20px, #000 calc(100% - 20px), transparent);\r\n\r\n    // firefox隐藏滚动条\r\n    scrollbar-width: none;\r\n\r\n    // chrome隐藏滚动条\r\n    &::-webkit-scrollbar {\r\n      display: none;\r\n    }\r\n\r\n    .item-container {\r\n      position: relative;\r\n      display: flex;\r\n      width: initial;\r\n\r\n      .item {\r\n        display: flex;\r\n        align-items: center;\r\n        justify-content: center;\r\n        flex-direction: column;\r\n        padding: 0 5px;\r\n        width: 80px;\r\n        height: 100%;\r\n        cursor: pointer;\r\n        color: var(--g-header-menu-color);\r\n        background-color: var(--g-header-bg);\r\n        transition: background-color 0.3s, var(--el-transition-color);\r\n\r\n        &:hover {\r\n          color: var(--g-header-menu-hover-color);\r\n          background-color: var(--g-header-menu-hover-bg);\r\n        }\r\n\r\n        .el-icon {\r\n          font-size: 24px;\r\n          vertical-align: middle;\r\n        }\r\n\r\n        span {\r\n          text-align: center;\r\n          vertical-align: middle;\r\n          word-break: break-all;\r\n\r\n          @include text-overflow(1, false);\r\n        }\r\n      }\r\n\r\n      &.active .item {\r\n        color: var(--g-header-menu-active-color);\r\n        background-color: var(--g-header-menu-active-bg);\r\n      }\r\n    }\r\n  }\r\n\r\n  :deep(.tools) {\r\n    padding: 0;\r\n\r\n    .buttons .item .el-icon {\r\n      color: var(--g-header-color);\r\n    }\r\n\r\n    .user-container {\r\n      font-size: 16px;\r\n      color: var(--g-header-color);\r\n    }\r\n  }\r\n}\r\n\r\n// 头部动画\r\n.header-enter-active,\r\n.header-leave-active {\r\n  transition: transform 0.3s;\r\n}\r\n\r\n.header-enter-from,\r\n.header-leave-to {\r\n  transform: translateY(calc(var(--g-header-height) * -1));\r\n}\r\n</style>\r\n"],"names":["__default__","defineComponent","settingsStore","useSettingsStore","menuStore","useMenuStore","switchTo","useMenu","navRef","ref","handlerMouserScroll","event"],"mappings":"0XAEAA,EAAAC,EAAA,CAA+B,KAAA,QAE/B,CAAA,qBAQA,MAAAC,EAAAC,IACAC,EAAAC,IAEA,CAAA,SAAAC,GAAAC,IAEAC,EAAAC,IAGA,SAAAC,EAAAC,EAAA,CACEH,EAAA,MAAA,SAAA,CAAsB,MAAAG,EAAA,QAAAA,EAAA,QAAA,EAAA,GAAA,GAC4B,CAAA,CACjD"}