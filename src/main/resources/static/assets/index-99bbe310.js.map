{"version":3,"file":"index-99bbe310.js","sources":["../../src/layouts/components/MainSidebar/index.vue"],"sourcesContent":["<script lang=\"ts\">\nimport { defineComponent } from 'vue'\nexport default defineComponent({\n  name: 'MainSidebar',\n})\n</script>\n<script lang=\"ts\" setup name=\"MainSidebar\">\r\nimport Logo from '../Logo/index.vue'\r\nimport useSettingsStore from '@/store/modules/settings'\r\nimport useMenuStore from '@/store/modules/menu'\r\n\r\nconst settingsStore = useSettingsStore()\r\nconst menuStore = useMenuStore()\r\n\r\nconst { switchTo } = useMenu()\r\n</script>\r\n\r\n<template>\r\n  <transition name=\"main-sidebar\">\r\n    <div v-if=\"settingsStore.settings.menu.menuMode === 'side' || (settingsStore.mode === 'mobile' && settingsStore.settings.menu.menuMode !== 'single')\" class=\"main-sidebar-container\">\r\n      <Logo :show-title=\"false\" class=\"sidebar-logo\" />\r\n      <!-- 侧边栏模式（含主导航） -->\r\n      <div class=\"nav\">\r\n        <template v-for=\"(item, index) in menuStore.allMenus\">\r\n          <div\r\n            v-if=\"item.children && item.children.length !== 0\" :key=\"index\" class=\"item\" :class=\"{\r\n              active: index === menuStore.actived,\r\n            }\" :title=\"item.meta?.title ?? '[ 无标题 ]'\" @click=\"switchTo(index)\"\r\n          >\r\n            <el-icon v-if=\"item.meta?.icon\">\r\n              <svg-icon :name=\"item.meta.icon\" />\r\n            </el-icon>\r\n            <span>{{ item.meta?.title ?? '[ 无标题 ]' }}</span>\r\n          </div>\r\n        </template>\r\n      </div>\r\n    </div>\r\n  </transition>\r\n</template>\r\n\r\n<style lang=\"scss\" scoped>\r\n.main-sidebar-container {\r\n  overflow-x: hidden;\r\n  overflow-y: auto;\r\n  overscroll-behavior: contain;\r\n\r\n  // firefox隐藏滚动条\r\n  scrollbar-width: none;\r\n\r\n  // chrome隐藏滚动条\r\n  &::-webkit-scrollbar {\r\n    display: none;\r\n  }\r\n\r\n  position: relative;\r\n  z-index: 1;\r\n  width: var(--g-main-sidebar-width);\r\n  color: var(--g-main-sidebar-menu-color);\r\n  background-color: var(--g-main-sidebar-bg);\r\n  transition: background-color 0.3s, var(--el-transition-color);\r\n\r\n  .sidebar-logo {\r\n    transition: 0.3s;\r\n    background-color: var(--g-main-sidebar-bg);\r\n  }\r\n\r\n  .nav {\r\n    width: inherit;\r\n    padding-top: var(--g-sidebar-logo-height);\r\n\r\n    .item {\r\n      display: flex;\r\n      align-items: center;\r\n      justify-content: center;\r\n      flex-direction: column;\r\n      text-align: center;\r\n      height: 60px;\r\n      padding: 0 5px;\r\n      cursor: pointer;\r\n      color: var(--g-main-sidebar-menu-color);\r\n      background-color: var(--g-main-sidebar-bg);\r\n      transition: background-color 0.3s, var(--el-transition-color);\r\n\r\n      &:hover {\r\n        color: var(--g-main-sidebar-menu-hover-color);\r\n        background-color: var(--g-main-sidebar-menu-hover-bg);\r\n      }\r\n\r\n      &.active {\r\n        color: var(--g-main-sidebar-menu-active-color);\r\n        background-color: var(--g-main-sidebar-menu-active-bg);\r\n      }\r\n\r\n      .el-icon {\r\n        margin: 0 auto;\r\n        font-size: 24px;\r\n      }\r\n\r\n      span {\r\n        text-align: center;\r\n        font-size: 14px;\r\n\r\n        @include text-overflow(1, false);\r\n      }\r\n    }\r\n  }\r\n}\r\n\r\n// 主侧边栏动画\r\n.main-sidebar-enter-active,\r\n.main-sidebar-leave-active {\r\n  transition: transform 0.3s;\r\n}\r\n\r\n.main-sidebar-enter-from,\r\n.main-sidebar-leave-to {\r\n  transform: translateX(calc(var(--g-main-sidebar-width) * -1));\r\n}\r\n</style>\r\n"],"names":["__default__","defineComponent","settingsStore","useSettingsStore","menuStore","useMenuStore","switchTo","useMenu"],"mappings":"wUAEAA,EAAAC,EAAA,CAA+B,KAAA,aAE/B,CAAA,qBAOA,MAAAC,EAAAC,IACAC,EAAAC,IAEA,CAAA,SAAAC,GAAAC"}